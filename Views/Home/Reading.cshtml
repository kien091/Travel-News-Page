@model IEnumerable<Final_NET.Models.Articles>
@inject TravelNewsDBContext _dbContext

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-ezUM86LXbqF7YY6Y04L/lzkkMIYp5LbPQ5GGppfSrNTPVo0I6ui/bqjqGFG6QF9BnA24PwjH/RHjdt4it1p3sA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="~/css/index.css">
    <link rel="stylesheet" href="~/css/img.css">
    <link rel="stylesheet" href="~/remixicons/fonts/remixicon.css">
    <link rel="stylesheet" href="~/css/detail.css">
    <!-- Liên kết CDN cho FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>Document</title>
</head>

<body>
    <div class="container header_nav" style="top: 0;">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-3">
                <a class="navbar-brand" href="#!">
                    <span style="color: #02b3aad0;">Newstravel</span><span style="color: #2d0707;"> Việt Nam</span>
                </a>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8">
                <ul class="menu_detail">
                    <li id="main-nav" class="menu"><a style="color: #0c797a;" asp-action="Home" asp-controller="Home">TRANG CHỦ</a></li>
                    <li id="main-nav" class="menu"><a style="color: #0c797a;" asp-action="Location" asp-controller="Home">ĐỊA ĐIỂM</a></li>
                    <li id="main-nav" class="menu"><a style="color: #0c797a;" asp-action="Cuisine" asp-controller="Home">ẨM THỰC</a></li>
                    <li id="main-nav" class="menu"><a style="color: #0c797a;" asp-action="Manual" asp-controller="Home">CẨM NANG</a></li>
                </ul>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-1">
                <ul>
                    <li class="nav-item dropdown no-arrow">
                        <a class="nav-link dropdown-toggle btn-sm" href="#" id="userDropdown" role="button"
                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size: 12px;">
                            <span class="mr-2 d-none d-lg-inline text-gray-600 small" style="font-size: 12px;">@TempData["Username"]  </span>
                            <img class="img-profile rounded-circle" src="~/img/undraw_profile.svg" style="width: 36px; height: 36px;">
                        </a>
                        <!-- Dropdown - User Information -->
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                            <a class="dropdown-item" asp-action="Profile" asp-controller="Profile" asp-route-id="@TempData["Id"]" style="font-size: 12px;">
                                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Profile
                            </a>
                            <a class="dropdown-item" href="#" style="font-size: 12px;">
                                <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i> Settings
                            </a>
                            <a class="dropdown-item" href="#" style="font-size: 12px;">
                                <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i> Activity Log
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" data-toggle="modal" data-target="#logoutModal" style="font-size: 12px;" asp-action="Login" asp-controller="Login">
                                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> Logout
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="bar_breadcrumb">
        <div class="container">
            <p id="breadcrumbs">
                <span>
                    <span>
                        <i class='fas fa-home fa-xs' style='color:#0e6c55'></i>
                        <a asp-action="Home" asp-controller="Home">Trang chủ</a>
                        <i class='fas fa-angle-double-right fa-sm' style='color:#14947b'></i>
                        <span class="breadcrumb_last" aria-current="page">
                            @foreach (var location in Model.Select(a => a.Location).Distinct())
                            {
                                <span>@location</span>
                            }
                        </span>
                    </span>
                </span>
            </p>
        </div>
    </div>
    <div class="container">
        <div class="fv-content-main">
            <br>
            <div class="row">
                <div class="col-md-9 col-sm-9 col-xs-12 fvcm-left align-self-start">
                    <!-- caterory news -->
                    <div class="category-news-wrap category-news">
                        <div class="category-content category-module">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-xs-12">

                                    @{
                                        var Art = Model.Where(a => a.Id == Convert.ToInt32(TempData["IdArticles"])).FirstOrDefault();
                                    }
                                    @if (Art != null)
                                    {
                                        <div class="category-post-item" style="display: flex; justify-content: flex-end;">
                                            <div class="category-post-item-inner" style="display: flex;">
                                                <div class="category-post-content">
                                                    <div style="font-size: 36px; color: black;">
                                                        @Art.Title
                                                    </div>

                                                    <div class="category-location-info">
                                                        <p class="category-post-info" style="display: flex; justify-content: space-between;">
                                                            <b>@Art.Category bốn phương </b>
                                                            <span>Địa điểm: @Art.Location</span>
                                                        </p>
                                                    </div>

                                                    <p class="category-post-info">@Html.Raw(Art.Content)</p>

                                                    <div class="date-author-info">
                                                        <p style="font-size: smaller; color: #333; text-align: right;">
                                                            Ngày đăng: @Art.Date.ToString("dd/MM/yyyy")
                                                        </p>
                                                        <p style="font-size: smaller; color: #333; text-align: right;">
                                                            Tác giả:
                                                            @{
                                                                var account = _dbContext.Accounts.Find(Art.AccountId);
                                                                if (account != null)
                                                                {
                                                                    @account.Username
                                                                    ;
                                                                }
                                                                else
                                                                {
                                                                    @("Unknown Author")
                                                                }
                                                            }
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-sm-3 col-xs-12 fvcm-right align-self-start">
                    <div class="fv-title">
                        <h3>
                            <span>Tin nóng hổi</span>
                        </h3>
                    </div>
                    <div class="fv-sidebar">
                        <div class="sidebar-item mgb-20">
                            <div class="category-post-item category-module-large">
                                <div class="category-post-item-inner">
                                    @{
                                        var topArt = Model.OrderByDescending(article => article.View).ThenByDescending(article => article.Date).FirstOrDefault();
                                    }
                                    @if (topArt != null)
                                    {
                                        <a asp-action="Reading" asp-controller="Home" asp-route-id="@topArt.Id">
                                            <div class="category-post-avatar">
                                                <a href="">
                                                    <img src="@topArt.Image"
                                                     alt="http://tintucdulich.langsonweb.com/wp-content/uploads/2019/04/du-lich-5-360x230.jpg" style="height:165px; width:260px;">
                                                </a>
                                            </div>
                                            <div class="category-post-content">
                                                <a>
                                                    <h3 class="category-post-title">
                                                        @topArt.Title
                                                    </h3>
                                                </a>
                                                <p class="category-post-info">
                                                    <b><a href=""></a>Tin tức @topArt.Category.ToLower() </b> - @topArt.Date.ToString("dd/MM/yyyy")
                                                </p>
                                                <p class="category-post-desc">
                                                    @topArt.Content.Substring(0, 100) ...
                                                </p>

                                            </div>
                                        </a>
                                    }

                                </div>
                            </div>
                            <div class="category-post-item category-module-small">
                                @{
                                    var topArt5 = Model.OrderByDescending(article => article.View).ThenByDescending(article => article.Date).Take(5).ToList();
                                }
                                @foreach (var art in topArt5)
                                {
                                    <a asp-action="Reading" asp-controller="Home" asp-route-id="@art.Id">
                                        <div class="category-post-item-inner" style="display: flex;">
                                            <div class="category-post-avatar">
                                                <a href="">
                                                    <img src="@art.Image" style="width:100px; height:75px;"
                                                     alt="https://thuthuatnhanh.com/wp-content/uploads/2019/12/hinh-nen-may-tinh.jpg">
                                                </a>
                                            </div>
                                            <div class="category-post-content">
                                                <a href="" style="text-decoration: none;">
                                                    <h3 style="font-size: small; color: black;">
                                                        @art.Title
                                                    </h3>
                                                </a>
                                                <p class="category-post-info">@art.Date.ToString("dd/MM/yyyy")</p>
                                            </div>
                                        </div>
                                    </a>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="container-fluid-footer" style="min-height: 60vh !important;>
        <div class="footer">
            <footer style="background-color: #0c797a;">
                <div class="container-fluid" class="footer">
                    <div class="container">
                        <div class="fv_footer">
                            <div class="logo_footer">
                                <a href="index.html"><img src="~/images/logo.jpg" alt="" class="img_footer"> </a>
                            </div>
                            <div class="row footer-post">
                                <div class="col-xs-12 col-sm-4 col-md-4 footer-post-item">
                                    <h3 class="block-title"
                                        style="font-family: inherit;font-weight: 500;line-height: 1.1;">
                                        LIÊN HỆ VỚI CHÚNG TÔI
                                    </h3>
                                    <div class="content-footer">
                                        <p>Địa chỉ: Trường đại học tôn đức thắng</p>
                                        <p>Email:loi@tdut.edu.vn</p>
                                        <p>Số điện thoại: 0986.989.626</p>
                                    </div>

                                </div>
                                <div class="col-xs-12 col-sm-4 col-md-4 footer-post-item">
                                    <h3 class="block-title" style="top: 0;">LIÊN KẾT MẠNG XE HỘI</h3>
                                    <div class="social-links content-footer">
                                        <a href="#"
                                           style="border: 0.5px solid #151828; border-radius: 50%; text-decoration: none; transition: 0.7s;">
                                            <i class="ri-facebook-fill"></i>
                                        </a>
                                        <a href="#"
                                           style="border: 0.5px solid #151828; border-radius: 50%; text-decoration: none; transition: 0.7s;">
                                            <i class="ri-google-fill"></i>
                                        </a>
                                        <br>
                                        <br>
                                        <br>
                                        <br>
                                        <br>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-4 col-md-4 footer-post-item">
                                    <h3 class="block-title">Fanpage</h3>
                                    <p class="text">FB:travelvietnam</p>
                                    <div class="content-footer">
                                        <br>
                                        <br>
                                        <br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid"
                     style="background: #009396;color: #fff;text-align: center;display: block; margin: 0 auto; ">
                    <strong style="font-size: 10px;">Copyright 2020 <a href="">Travel News Page</a></strong>
                </div>
            </footer>
        </div>
    </div>

</body>

</html>